<script>
  let scale = 1;
  let musicStarted = false;
  let effectStarted = false;
  let noClickCount = 0;

  function yesClicked() {
    if (effectStarted) return;

    alert("Say Bismillah first ðŸ¤");

    effectStarted = true;

    // Start music
    if (!musicStarted) {
      document.getElementById("music").src += "&autoplay=1";
      musicStarted = true;
    }

    // Confetti
    confetti({
      particleCount: 250,
      spread: 130,
      origin: { y: 0.6 }
    });

    // Floating text for 10 seconds
    const interval = setInterval(createFloatingText, 400);
    setTimeout(() => clearInterval(interval), 10000);
  }

  function createFloatingText() {
    const text = document.createElement("div");
    text.className = "floating-text";
    text.innerText = "Inshallah we will be one â¤ï¸â¤ï¸â¤ï¸";

    const x = Math.random() * (window.innerWidth - 220);
    const y = Math.random() * (window.innerHeight - 60);

    text.style.left = x + "px";
    text.style.top = y + "px";

    document.body.appendChild(text);
    setTimeout(() => text.remove(), 3000);
  }

  function moveNo() {
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");

    if (noClickCount < 5) {
      noClickCount++;

      const maxX = window.innerWidth - noBtn.offsetWidth - 20;
      const maxY = window.innerHeight - noBtn.offsetHeight - 20;

      const x = Math.random() * maxX;
      const y = Math.random() * maxY;

      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";

      // YES grows
      scale += 0.1;
      yesBtn.style.transform = `translateX(-50%) scale(${scale})`;
    } else {
      // Final form ðŸ˜ˆ
      noBtn.innerText = "You thought NO was an option?? Never!!";
      noBtn.style.left = "50%";
      noBtn.style.top = "140px";
      noBtn.style.transform = "translateX(-50%)";
    }
  }
</script>
